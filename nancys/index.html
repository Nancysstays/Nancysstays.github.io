<!DOCTYPE html>
<html>
<head>
  <title>Interactive Plotly Chart</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>

  <div id="plotly-chart"></div>

  X: <input type="number" id="x-input" value="0"><br>
  Y: <input type="number" id="y-input" value="0"><br>

  <button onclick="addPoint()">Add Point</button>
  <button onclick="updatePoint()">Update Point</button>
  <button onclick="deletePoint()">Delete Point</button>

  <script>
    let data = [{ x: [], y: [], type: 'scatter', mode: 'markers' }];
    let layout = { title: 'XY Cartesian System' };
    Plotly.newPlot('plotly-chart', data, layout);

    let selectedPointIndex = null;

    function addPoint() {
      let x = parseFloat(document.getElementById('x-input').value);
      let y = parseFloat(document.getElementById('y-input').value);
      data[0].x.push(x);
      data[0].y.push(y);
      Plotly.redraw('plotly-chart');
    }

    function updatePoint() {
      if (selectedPointIndex !== null) {
        let x = parseFloat(document.getElementById('x-input').value);
        let y = parseFloat(document.getElementById('y-input').value);
        data[0].x[selectedPointIndex] = x;
        data[0].y[selectedPointIndex] = y;
        Plotly.redraw('plotly-chart');
      }
    }

    function deletePoint() {
      if (selectedPointIndex !== null) {
        data[0].x.splice(selectedPointIndex, 1);
        data[0].y.splice(selectedPointIndex, 1);
        Plotly.redraw('plotly-chart');
        selectedPointIndex = null;
      }
    }

    // Add click event to select points
    let plotlyChart = document.getElementById('plotly-chart');
    plotlyChart.on('plotly_click', function(data){
      let pointNumber = data.points[0].pointNumber;
      selectedPointIndex = pointNumber;
      document.getElementById('x-input').value = data[0].x[pointNumber];
      document.getElementById('y-input').value = data[0].y[pointNumber];
    });

  </script>

</body>
</html>
